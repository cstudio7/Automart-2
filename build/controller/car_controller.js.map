{"version":3,"sources":["../../SERVER/controller/car_controller.js"],"names":["Car","create","req","res","body","manufacturer","price","model","status","send","error","data","CarModel","email","getOne","car","findOne","params","carId","body_type","getAvailableCars","carsArray","findAvailableCars","query","getUpdatePrice","updateCarPrice","deleteCar","getUpdateStatus","specifiedCar","updateStatus","getFilterCars","findFilterCars","minPrice","maxPrice","getAll","findAll"],"mappings":"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","sourcesContent":["import CarModel from '../model/car_model';\r\n\r\nconst Car = {\r\n  /**\r\n   *\r\n   * @param {object} req\r\n   * @param {object} res\r\n   * @returns {object} car object\r\n   */\r\n  //post car to car array (as database)\r\n  create(req, res) {\r\n    if (!req.body.manufacturer && !req.body.price && !req.body.model) {\r\n      return res.status(400).send({ status: 400, error: 'All fields are required' });\r\n    }\r\n    const data = CarModel.create(req.body);\r\n    data.email = req.body.email;\r\n    return res.status(201).send({status: 201, data});\r\n  },\r\n  //view a specific car\r\n  getOne(req, res) {\r\n    const car = CarModel.findOne(req.params.carId);\r\n    if (!car) {\r\n      return res.status(404).send({ status: 404, error: 'car not found'});\r\n    }\r\n    car.body_type = req.body.body_type || ' ';\r\n    car.status = 200;\r\n    return res.status(200).send({status: 200, car});\r\n  },\r\n  //view all available cars posted\r\n  getAvailableCars(req, res) {\r\n    const carsArray = CarModel.findAvailableCars(req.query.status);\r\n    return res.status(200).send({status: 200, carsArray});\r\n  },\r\n  //update price of car ad posted\r\n  getUpdatePrice(req, res) {\r\n    const car = CarModel.findOne(req.params.carId);\r\n    if (!car) {\r\n      return res.status(404).send({ status: 404, error: 'car not found' });\r\n    }\r\n    try {\r\n      const data = CarModel.updateCarPrice(req.params.carId, req.body.price);\r\n      return res.status(200).send({status: 200, data});\r\n    } catch (error) {\r\n      return res.status(404).send({ status: 404, error: 'cannot update price' });\r\n    }\r\n  },\r\n  //delete a specific car in array\r\n  delete(req, res) {\r\n    const car = CarModel.findOne(req.params.carId);\r\n    if (!car) {\r\n      return res.status(404).send({ status: 404, error: 'no car to delete' });\r\n    }\r\n    const data = CarModel.deleteCar(req.params.carId);\r\n    return res.status(200).send({status: 404, data});\r\n  },\r\n    //update status of car in array\r\n  getUpdateStatus(req, res) {\r\n    const car = CarModel.findOne(req.params.carId);\r\n    if (!car) {\r\n      return res.status(404).send({ status: 404, error: 'car not found' });\r\n    }\r\n    try {\r\n      const specifiedCar = CarModel.updateStatus(req.params.carId);\r\n      return res.status(200).send(specifiedCar);\r\n    } catch (error) {\r\n      return res.status(404).send({ status: 404, error: 'cannot update status' });\r\n    }\r\n  },\r\n  //search for cars based on price and status\r\n  getFilterCars(req, res) {\r\n    try {\r\n      const data = CarModel.findFilterCars(req.query.status, req.query.minPrice, req.query.maxPrice);\r\n      return res.status(200).send({status: 200, data});\r\n    } catch (error) {\r\n      res.status(404).send({ status: 404, error: 'cannot find cars' });\r\n    }\r\n  },\r\n  /**\r\n   *\r\n   * @param {object} req\r\n   * @param {object} res\r\n   * @returns {object} car array\r\n   */\r\n  //find all cars\r\n  getAll(req, res) {\r\n    const data = CarModel.findAll();\r\n    return res.status(200).send({status: 200, data});\r\n  },\r\n};\r\n\r\nexport default Car;\r\n"],"file":"car_controller.js"}