{"version":3,"sources":["../../server/controller/order_controller.js"],"names":["Order","create","req","res","body","price","price_offered","status","send","message","order","OrderModel","getUpdateOrderPrice","findOne","params","orderId","updatedPrice","updateOrderPrice","new_price_offered","error"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAMA,KAAK,GAAG;AACZ;;;;;;AAMA;AACAC,EAAAA,MARY,kBAQLC,GARK,EAQAC,GARA,EAQK;AACf,QAAI,CAACD,GAAG,CAACE,IAAJ,CAASC,KAAV,IAAmB,CAACH,GAAG,CAACE,IAAJ,CAASE,aAA7B,IAA8C,CAACJ,GAAG,CAACE,IAAJ,CAASG,MAA5D,EAAoE;AAClE,aAAOJ,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB,CAAP;AACD;;AAED,QAAMC,KAAK,GAAGC,wBAAWV,MAAX,CAAkBC,GAAG,CAACE,IAAtB,CAAd;;AACA,WAAOD,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBE,KAArB,CAAP;AACD,GAfW;;AAgBZ;;;;;;AAMA;AACAE,EAAAA,mBAvBY,+BAuBQV,GAvBR,EAuBaC,GAvBb,EAuBkB;AAC5B,QAAMO,KAAK,GAAGC,wBAAWE,OAAX,CAAmBX,GAAG,CAACY,MAAJ,CAAWC,OAA9B,CAAd;;AACA,QAAI,CAACL,KAAL,EAAY;AACV,aAAOP,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB,CAAP;AACD;;AACD,QAAI;AACF,UAAMO,YAAY,GAAGL,wBAAWM,gBAAX,CAA4Bf,GAAG,CAACY,MAAJ,CAAWC,OAAvC,EAAgDb,GAAG,CAACE,IAAJ,CAASc,iBAAzD,CAArB;;AACA,aAAOf,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBQ,YAArB,CAAP;AACD,KAHD,CAGE,OAAOG,KAAP,EAAc;AACd,aAAOhB,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB,CAAP;AACD;AACF;AAlCW,CAAd;eAqCeT,K","sourcesContent":["import OrderModel from '../model/order_model';\r\n\r\nconst Order = {\r\n  /**\r\n   *\r\n   * @param {object} req\r\n   * @param {object} res\r\n   * @returns {object} order object\r\n   */\r\n  //post order to array (as database)\r\n  create(req, res) {\r\n    if (!req.body.price && !req.body.price_offered && !req.body.status) {\r\n      return res.status(400).send({ message: 'All fields are required' });\r\n    }\r\n\r\n    const order = OrderModel.create(req.body);\r\n    return res.status(201).send(order);\r\n  },\r\n  /**\r\n   *\r\n   * @param {object} req\r\n   * @param {object} res\r\n   * @returns {object} \r\n   */\r\n  //update price of order already posted\r\n  getUpdateOrderPrice(req, res) {\r\n    const order = OrderModel.findOne(req.params.orderId);\r\n    if (!order) {\r\n      return res.status(404).send({ message: 'order not found' });\r\n    }\r\n    try {\r\n      const updatedPrice = OrderModel.updateOrderPrice(req.params.orderId, req.body.new_price_offered);\r\n      return res.status(200).send(updatedPrice);\r\n    } catch (error) {\r\n      return res.status(404).send({ message: 'cannot update price' });\r\n    }\r\n  },\r\n};\r\n\r\nexport default Order;\r\n"],"file":"order_controller.js"}