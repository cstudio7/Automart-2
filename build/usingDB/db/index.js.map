{"version":3,"sources":["../../../SERVER/usingDB/db/index.js"],"names":["dotenv","config","pool","Pool","process","env","NODE_ENV","connectionString","TEST_DATABASE_URL","ssl","DATABASE_URL","query","text","params","Promise","resolve","reject","then","res","err"],"mappings":";;;;;;;AAEA;;AACA;;;;AAFA;AAIAA,mBAAOC,MAAP;;AACA,IAAIC,IAAI,GAAG,IAAIC,QAAJ,EAAX;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA7B,EAAqC;AACnCJ,EAAAA,IAAI,GAAG,IAAIC,QAAJ,CAAS;AAEdI,IAAAA,gBAAgB,EAAEH,OAAO,CAACC,GAAR,CAAYG,iBAFhB;AAEmCC,IAAAA,GAAG,EAAE;AAFxC,GAAT,CAAP;AAID,CALD,MAKO;AACLP,EAAAA,IAAI,GAAG,IAAIC,QAAJ,CAAS;AACdI,IAAAA,gBAAgB,EAAEH,OAAO,CAACC,GAAR,CAAYK,YADhB;AAC8BD,IAAAA,GAAG,EAAE;AADnC,GAAT,CAAP;AAGD;;eAEc;AACb;;;;;;AAMAE,EAAAA,KAPa,iBAOPC,IAPO,EAODC,MAPC,EAOO;AAClB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCd,MAAAA,IAAI,CAACS,KAAL,CAAWC,IAAX,EAAiBC,MAAjB,EACGI,IADH,CACQ,UAACC,GAAD,EAAS;AACbH,QAAAA,OAAO,CAACG,GAAD,CAAP;AACD,OAHH,WAIS,UAACC,GAAD,EAAS;AACdH,QAAAA,MAAM,CAACG,GAAD,CAAN;AACD,OANH;AAOD,KARM,CAAP;AASD;AAjBY,C","sourcesContent":["\r\n/* eslint-disable no-unused-vars */\r\nimport { Pool } from 'pg';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\nlet pool = new Pool();\r\n\r\nif (process.env.NODE_ENV === 'test') {\r\n  pool = new Pool({\r\n\r\n    connectionString: process.env.TEST_DATABASE_URL, ssl: true,\r\n  });\r\n} else {\r\n  pool = new Pool({\r\n    connectionString: process.env.DATABASE_URL, ssl: true,\r\n  });\r\n}\r\n\r\nexport default {\r\n  /**\r\n   * DB Query\r\n   * @param {object} req\r\n   * @param {object} res\r\n   * @returns {object} object\r\n   */\r\n  query(text, params) {\r\n    return new Promise((resolve, reject) => {\r\n      pool.query(text, params)\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n};\r\n"],"file":"index.js"}