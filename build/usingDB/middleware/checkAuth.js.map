{"version":3,"sources":["../../../SERVER/usingDB/middleware/checkAuth.js"],"names":["module","exports","req","res","next","token","headers","authorization","decode","jwt","verify","process","env","TOKEN","userData","error","status","send"],"mappings":";;AAAA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnC,MAAI;AACF,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AACA,QAAMC,MAAM,GAAGC,yBAAIC,MAAJ,CAAWL,KAAX,EAAkBM,OAAO,CAACC,GAAR,CAAYC,KAA9B,CAAf;;AACAX,IAAAA,GAAG,CAACY,QAAJ,GAAeN,MAAf;AACAJ,IAAAA,IAAI;AACL,GALD,CAKE,OAAOW,KAAP,EAAc;AACd,WAAOZ,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,GAAV;AAAeD,MAAAA,KAAK,EAAE;AAAtB,KAArB,CAAP;AACD;;AACD,SAAO,IAAP;AACD,CAVD","sourcesContent":["import jwt from 'jsonwebtoken';\r\n\r\nmodule.exports = (req, res, next) => {\r\n  try {\r\n    const token = req.headers.authorization;\r\n    const decode = jwt.verify(token, process.env.TOKEN);\r\n    req.userData = decode;\r\n    next();\r\n  } catch (error) {\r\n    return res.status(401).send({ status: 401, error: 'Authentication failed' });\r\n  }\r\n  return null;\r\n};\r\n"],"file":"checkAuth.js"}