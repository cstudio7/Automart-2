{"version":3,"sources":["../../SERVER/routes/cloudinary_route.js"],"names":["router","express","Router","multipartMiddleware","cloudinary","config","cloud_name","api_key","api_secret","post","req","res","filename","files","dataFile","path","uploader","upload","tags","resource_type","then","file","console","log","public_id","url","redirect","err","warn","module","exports"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;AACA,IAAMC,mBAAmB,GAAG,oCAA5B,C,CAGA;;AACAC,uBAAWC,MAAX,CAAkB;AACdC,EAAAA,UAAU,EAAE,MADE;AAEdC,EAAAA,OAAO,EAAE,iBAFK;AAGdC,EAAAA,UAAU,EAAE;AAHE,CAAlB;;AAMAR,MAAM,CAACS,IAAP,CAAY,aAAZ,EAA2BN,mBAA3B,EAAgD,UAAUO,GAAV,EAAeC,GAAf,EAAoB;AAChE,MAAIC,QAAQ,GAAGF,GAAG,CAACG,KAAJ,CAAUC,QAAV,CAAmBC,IAAlC;;AACAX,yBAAWY,QAAX,CAAoBC,MAApB,CAA2BL,QAA3B,EAAqC;AAAEM,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,aAAa,EAAE;AAAlC,GAArC,EACKC,IADL,CACU,UAAUC,IAAV,EAAgB;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAA+BF,IAAI,CAACG,SAAhD;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAyBF,IAAI,CAACI,GAA1C,EAFkB,CAGnB;AACA;;AACCd,IAAAA,GAAG,CAACe,QAAJ,CAAa,0BAAb;AACH,GAPL,WAQW,UAAUC,GAAV,EAAe;AAClB,QAAIA,GAAJ,EAAS;AACLL,MAAAA,OAAO,CAACM,IAAR,CAAaD,GAAb;AACH;;AACDhB,IAAAA,GAAG,CAACe,QAAJ,CAAa,0BAAb;AACH,GAbL;AAcC,CAhBL;AAkBAG,MAAM,CAACC,OAAP,GAAiB9B,MAAjB","sourcesContent":["import express from \"express\";\r\nimport cloudinary from \"cloudinary\"; \r\nimport multipart from \"connect-multiparty\";\r\n\r\nconst router = express.Router();\r\nconst multipartMiddleware = multipart();\r\n\r\n\r\n//Enter credentials below                                              \r\ncloudinary.config({\r\n    cloud_name: \"voke\",\r\n    api_key: \"146586867451971\",\r\n    api_secret: \"ZKdVZgEc-NY7qUnL9jXNnRuZQWw\"\r\n});\r\n\r\nrouter.post(\"/car/upload\", multipartMiddleware, function (req, res) {\r\n    let filename = req.files.dataFile.path;\r\n    cloudinary.uploader.upload(filename, { tags: \"gotemps\", resource_type: \"auto\" })\r\n        .then(function (file) {\r\n            console.log(\"Public id of the file is  \" + file.public_id);\r\n            console.log(\"Url of the file is  \" + file.url);\r\n           // template.dataFile = file.url;  \r\n           // template.save()\r\n            res.redirect(\"./model/cloudinary_model\")\r\n        })\r\n        .catch(function (err) {\r\n            if (err) {\r\n                console.warn(err);\r\n            }\r\n            res.redirect(\"./model/cloudinary_model\");\r\n        })\r\n    })\r\n\r\nmodule.exports = router;"],"file":"cloudinary_route.js"}