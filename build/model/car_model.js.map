{"version":3,"sources":["../../server/model/car_model.js"],"names":["Car","cars","data","newCar","id","uuid","v4","created_on","moment","now","manufacturer","model","price","state","status","createdDate","modifiedDate","push","i","length","availableCars","specificCar","findOne","minPrice","maxPrice","unsoldCars","findAvailableCars","carRange","splice","newPrice"],"mappings":"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","sourcesContent":["/* eslint-disable no-plusplus */\r\nimport moment from 'moment';\r\nimport uuid from 'uuid';\r\n\r\nclass Car {\r\n  /**\r\n   * class constructor\r\n   * @param {object} data\r\n   */\r\n\r\n  constructor() {\r\n    this.cars = [];\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns {object} car object\r\n   */\r\n  //create a car ad\r\n  create(data) {\r\n    const newCar = {\r\n        id: uuid.v4(),\r\n        created_on: moment.now(),\r\n        manufacturer: data.manufacturer,\r\n        model: data.model,\r\n        price: data.price,\r\n        state: data.state || 'string',\r\n        status: data.status,\r\n        createdDate: moment.now(),\r\n        modifiedDate: moment.now(),\r\n    };\r\n    //push car to cars array\r\n    this.cars.push(newCar);\r\n    return newCar;\r\n  }\r\n\r\n\r\n  /**\r\n  *\r\n  * @param {uuid} id\r\n  * @returns {object} car object\r\n  */\r\n //search for a single car\r\n  findOne(id) {\r\n    for (let i = 0; i < this.cars.length; i++) {\r\n      if (this.cars[i].data.id === id) {\r\n        return this.cars[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  //find cars available based on status\r\n  findAvailableCars(status) {\r\n    const availableCars = [];\r\n\r\n    for (let i = 0; i < this.cars.length; i++) {\r\n      if (this.cars[i].data.status === status) {\r\n        availableCars.push(this.cars[i]);\r\n      }\r\n    }\r\n    return availableCars;\r\n  }\r\n  //Update status of car ad as \"sold\"\r\n  updateStatus(id) {\r\n    const specificCar = this.findOne(id);\r\n    specificCar.data.status = 'sold';\r\n    return specificCar;\r\n  }\r\n  //filter cars based on status, minimum price and maximum price provided\r\n  findFilterCars(status, minPrice, maxPrice) {\r\n    const unsoldCars = findAvailableCars(status);\r\n    const carRange = [];\r\n\r\n    for (let i = 0; i < unsoldCars.length; i++) {\r\n      if ((unsoldCars[i].data.price <= maxPrice) && (unsoldCars[i].data.price >= minPrice)) {\r\n        carRange.push(unsoldCars[i]);\r\n      }\r\n    }\r\n    return carRange;\r\n  }\r\n\r\n  /**\r\n  *\r\n  * @param {uuid} id\r\n  * @returns {object} car object\r\n  */\r\n //delete car ad\r\n  deleteCar(id) {\r\n    for (let i = 0; i < this.cars.length; i++) {\r\n      if (this.cars[i].data.id === id) {\r\n        this.cars.splice(i, 1);\r\n        return ('Car Ad successfull deleted');\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n//update price of car \r\n  updateCarPrice(id, newPrice) {\r\n    for (let i = 0; i < this.cars.length; i++) {\r\n      if (this.cars[i].data.id === id) {\r\n        this.cars[i].data.price = newPrice;\r\n        return this.cars[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @returns {object} returns all cars\r\n   */\r\n  //return all cars available\r\n  findAll() {\r\n    return this.cars;\r\n  }\r\n}\r\nexport default new Car();\r\n"],"file":"car_model.js"}