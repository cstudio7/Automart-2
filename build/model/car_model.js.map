{"version":3,"sources":["../../server/model/car_model.js"],"names":["Car","cars","data","newCar","status","id","uuid","v4","created_on","moment","now","manufacturer","model","price","state","createdDate","modifiedDate","push","i","length","availableCars","specificCar","findOne","minPrice","maxPrice","unsoldCars","findAvailableCars","carRange","splice","message","newPrice"],"mappings":"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","sourcesContent":["/* eslint-disable no-plusplus */\r\nimport moment from 'moment';\r\nimport uuid from 'uuid';\r\n\r\nclass Car {\r\n  /**\r\n   * class constructor\r\n   * @param {object} data\r\n   */\r\n\r\n  constructor() {\r\n    this.cars = [];\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns {object} car object\r\n   */\r\n  //create a car ad\r\n  create(data) {\r\n    const newCar = {\r\n      status: 200,\r\n      data:\r\n      {\r\n        id: uuid.v4(),\r\n        created_on: moment.now(),\r\n        manufacturer: data.manufacturer,\r\n        model: data.model,\r\n        price: data.price,\r\n        state: data.state || 'string',\r\n        status: data.status,\r\n        createdDate: moment.now(),\r\n        modifiedDate: moment.now(),\r\n      },\r\n    };\r\n    //push car to cars array\r\n    this.cars.push(newCar);\r\n    return newCar;\r\n  }\r\n\r\n\r\n  /**\r\n  *\r\n  * @param {uuid} id\r\n  * @returns {object} car object\r\n  */\r\n //search for a single car\r\n  findOne(id) {\r\n    for (let i = 0; i < this.cars.length; i++) {\r\n      if (this.cars[i].data.id === id) {\r\n        return this.cars[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  //find cars available based on status\r\n  findAvailableCars(status) {\r\n    const availableCars = [];\r\n\r\n    for (let i = 0; i < this.cars.length; i++) {\r\n      if (this.cars[i].data.status === status) {\r\n        availableCars.push(this.cars[i]);\r\n      }\r\n    }\r\n    return availableCars;\r\n  }\r\n  //Update status of car ad as \"sold\"\r\n  updateStatus(id) {\r\n    const specificCar = this.findOne(id);\r\n    specificCar.data.status = 'sold';\r\n    return specificCar;\r\n  }\r\n  //filter cars based on status, minimum price and maximum price provided\r\n  findFilterCars(status, minPrice, maxPrice) {\r\n    const unsoldCars = findAvailableCars(status);\r\n    const carRange = [];\r\n\r\n    for (let i = 0; i < unsoldCars.length; i++) {\r\n      if ((unsoldCars[i].data.price <= maxPrice) && (unsoldCars[i].data.price >= minPrice)) {\r\n        carRange.push(unsoldCars[i]);\r\n      }\r\n    }\r\n    return carRange;\r\n  }\r\n\r\n  /**\r\n  *\r\n  * @param {uuid} id\r\n  * @returns {object} car object\r\n  */\r\n //delete car ad\r\n  deleteCar(id) {\r\n    for (let i = 0; i < this.cars.length; i++) {\r\n      if (this.cars[i].data.id === id) {\r\n        this.cars.splice(i, 1);\r\n        return ({ message: 'Car Ad successfull deleted' });\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n//update price of car \r\n  updateCarPrice(id, newPrice) {\r\n    for (let i = 0; i < this.cars.length; i++) {\r\n      if (this.cars[i].data.id === id) {\r\n        this.cars[i].data.price = newPrice;\r\n        return this.cars[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @returns {object} returns all cars\r\n   */\r\n  //return all cars available\r\n  findAll() {\r\n    return this.cars;\r\n  }\r\n}\r\nexport default new Car();\r\n"],"file":"car_model.js"}