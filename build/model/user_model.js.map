{"version":3,"sources":["../../SERVER/model/user_model.js"],"names":["uuid","require","bcrypt","User","users","data","newUser","id","v4","token","email","firstname","lastname","password","hashSync","error","hash","message","isAdmin","state","push","i","length","exports"],"mappings":";;;;;;;;AAEA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;IAGME,I;;;AACJ;;;;AAIA,kBAAc;AAAA;;AACZ,SAAKC,KAAL,GAAa,EAAb;AACD;AAED;;;;AAIA;;;;;2BACOC,I,EAAM;AACX,UAAMC,OAAO,GAAG;AACZC,QAAAA,EAAE,EAAEP,IAAI,CAACQ,EAAL,MAAa,EADL;AAEZC,QAAAA,KAAK,EAAEJ,IAAI,CAACI,KAAL,IAAc,EAFT;AAGZC,QAAAA,KAAK,EAAEL,IAAI,CAACK,KAAL,IAAc,EAHT;AAIZC,QAAAA,SAAS,EAAEN,IAAI,CAACM,SAAL,IAAkB,EAJjB;AAKZC,QAAAA,QAAQ,EAAEP,IAAI,CAACO,QAAL,IAAiB,EALf;AAMZC,QAAAA,QAAQ,EAAEX,MAAM,CAACY,QAAP,CAAgBT,IAAI,CAACQ,QAArB,EAA+B,EAA/B,EAAmC,UAACE,KAAD,EAAQC,IAAR,EAAiB;AAC5D,cAAID,KAAJ,EAAW;AACT,mBAAQ;AAAEE,cAAAA,OAAO,EAAE;AAAX,aAAR;AACD;AACF,SAJS,KAIJ,EAVM;AAWZC,QAAAA,OAAO,EAAEb,IAAI,CAACc,KAAL,IAAc;AAXX,OAAhB;AAeA,WAAKf,KAAL,CAAWgB,IAAX,CAAgBd,OAAhB;AACA,aAAOA,OAAP;AACD;AAED;;;;;AAKA;AACA;;;;4BACQC,E,EAAI;AACV;AACA,WAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKjB,KAAL,CAAWkB,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAC1C,YAAI,KAAKjB,KAAL,CAAWiB,CAAX,EAAcX,KAAd,KAAwBH,EAA5B,EAAgC;AAC9B,iBAAO,KAAKH,KAAL,CAAWiB,CAAX,CAAP;AACD;AACF;AACF;AAED;;;;;;8BAGU;AACR,aAAO,KAAKjB,KAAZ;AACD;;;;;;AAEHmB,OAAO,WAAP,GAAkB,IAAIpB,IAAJ,EAAlB","sourcesContent":["\r\n\r\nconst uuid = require('uuid');\r\nconst bcrypt = require('bcrypt');\r\n\r\n\r\nclass User {\r\n  /**\r\n   * class constructor\r\n   * @param {object} data\r\n   */\r\n  constructor() {\r\n    this.users = [];\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns {object} car object\r\n   */\r\n  //create user\r\n  create(data) {\r\n    const newUser = { \r\n        id: uuid.v4() || '',\r\n        token: data.token || '',\r\n        email: data.email || '',\r\n        firstname: data.firstname || '',\r\n        lastname: data.lastname || '',\r\n        password: bcrypt.hashSync(data.password, 10, (error, hash) => {\r\n          if (error) {\r\n            return ({ message: 'error found' });\r\n          }\r\n        }) || '',\r\n        isAdmin: data.state || '',\r\n      \r\n    };\r\n\r\n    this.users.push(newUser);\r\n    return newUser;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {uuid} id\r\n   * @returns {object} user object\r\n   */\r\n  //find a single user\r\n  // eslint-disable-next-line consistent-return\r\n  findOne(id) {\r\n    // eslint-disable-next-line no-plusplus\r\n    for (let i = 0; i < this.users.length; i++) {\r\n      if (this.users[i].email === id) {\r\n        return this.users[i];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @returns {object} returns all users\r\n   */\r\n  findAll() {\r\n    return this.users;\r\n  }\r\n}\r\nexports.default = new User();\r\n"],"file":"user_model.js"}